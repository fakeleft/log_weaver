#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'log_weaver'

class App
  include Methadone::Main
  include Methadone::CLILogging

  main do |file1|
    exit_now!("File '#{file1}' does not exist!") unless File.exists? file1
  end


  description "Weaves logs by timestamp."

  arg :file1, "Path to first log file."
  arg :file2, "Path to second log file."
  #TODO: how do you capture variable number of optional args?
  arg :additional_files, :optional, "Paths to subsequent log files."

  version LogWeaver::VERSION

  use_log_level_option

  go!
end
